{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CleverDocs Blog Schema",
  "description": "Standard blog schema matching the exact frontend interface for CleverDocs",
  "type": "object",
  "required": [
    "id",
    "title",
    "excerpt",
    "content",
    "author",
    "publishedAt",
    "readTime",
    "tags",
    "coverImage",
    "avgRating",
    "totalRatings",
    "docType"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique blog identifier"
    },
    "title": {
      "type": "string",
      "minLength": 1,
      "maxLength": 200,
      "description": "Blog title"
    },
    "excerpt": {
      "type": "string",
      "minLength": 10,
      "maxLength": 500,
      "description": "Brief summary for blog cards and previews"
    },
    "content": {
      "type": "string",
      "minLength": 10,
      "description": "Full blog content in markdown format"
    },
    "author": {
      "type": "object",
      "required": ["name", "avatar"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Author display name"
        },
        "avatar": {
          "type": "string",
          "format": "uri",
          "description": "Author avatar image URL"
        }
      },
      "description": "Author information for community blogs"
    },
    "publishedAt": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Publication date in YYYY-MM-DD format"
    },
    "readTime": {
      "type": "string",
      "pattern": "^\\d+ min read$",
      "description": "Estimated reading time as string (e.g., '8 min read')"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1
      },
      "maxItems": 10,
      "description": "Searchable tags for content discovery"
    },
    "coverImage": {
      "type": "string",
      "format": "uri",
      "description": "Blog cover image URL"
    },
    "avgRating": {
      "type": "number",
      "minimum": 0,
      "maximum": 5,
      "description": "Average user rating (0-5 stars)"
    },
    "totalRatings": {
      "type": "integer",
      "minimum": 0,
      "description": "Total number of ratings received"
    },
    "docType": {
      "type": "string",
      "enum": ["official", "community"],
      "description": "Document type - official (team docs) or community (user generated)"
    },
    "teamInfo": {
      "type": "object",
      "required": ["teamName", "email"],
      "properties": {
        "teamName": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Team name for official documentation"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Team contact email"
        }
      },
      "description": "Team information for official documentation (optional, only for docType: 'official')"
    }
  },
  "additionalProperties": false,
  "if": {
    "properties": {
      "docType": {
        "const": "official"
      }
    }
  },
  "then": {
    "required": ["teamInfo"]
  },
  "else": {
    "not": {
      "required": ["teamInfo"]
    }
  }
}
